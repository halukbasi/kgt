{"ast":null,"code":"import { __rest } from 'tslib';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef, useLayoutEffect } from 'react';\nimport { MotionContext, MotionConfigContext, useForceUpdate, useIsomorphicLayoutEffect } from 'framer-motion';\nimport { mergeRefs } from 'react-merge-refs';\nimport { createRoot, events, unmountComponentAtNode } from '@react-three/fiber';\nimport { MotionCanvasContext } from './MotionCanvasContext.mjs';\nimport { clamp } from 'popmotion';\nconst devicePixelRatio = typeof window !== \"undefined\" ? window.devicePixelRatio : 1;\n\nconst calculateDpr = dpr => Array.isArray(dpr) ? clamp(dpr[0], dpr[1], devicePixelRatio) : dpr || devicePixelRatio;\n/**\n * This file contains a version of R3F's Canvas component that uses our projection\n * system for layout measurements instead of use-react-measure so we can keep the\n * projection and cameras in sync.\n *\n * https://github.com/pmndrs/react-three-fiber/blob/master/packages/fiber/src/web/Canvas.tsx\n */\n\n\nfunction Block(_ref) {\n  let {\n    set\n  } = _ref;\n  useIsomorphicLayoutEffect(() => {\n    set(new Promise(() => null));\n    return () => set(false);\n  }, []);\n  return null;\n}\n\nclass ErrorBoundary extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      error: false\n    };\n  }\n\n  componentDidCatch(error) {\n    this.props.set(error);\n  }\n\n  render() {\n    return this.state.error ? null : this.props.children;\n  }\n\n}\n\nErrorBoundary.getDerivedStateFromError = () => ({\n  error: true\n});\n\nfunction CanvasComponent(_a, forwardedRef) {\n  var {\n    children,\n    fallback,\n    tabIndex,\n    id,\n    style,\n    className,\n    events: events$1\n  } = _a,\n      props = __rest(_a, [\"children\", \"fallback\", \"tabIndex\", \"id\", \"style\", \"className\", \"events\"]);\n  /**\n   * Import existing contexts to pass through variants and MotionConfig from\n   * the DOM to the 3D tree. Shared variants aren't officially supported yet\n   * because the parent DOM tree fires effects before the 3D tree, whereas\n   * variants are expected to run from bottom-up in useEffect.\n   */\n\n\n  const motionContext = useContext(MotionContext);\n  const configContext = useContext(MotionConfigContext);\n  const [forceRender] = useForceUpdate();\n  const layoutCamera = useRef(null);\n  const dimensions = useRef({\n    size: {\n      width: 0,\n      height: 0\n    }\n  });\n  const {\n    size,\n    dpr\n  } = dimensions.current;\n  const containerRef = useRef(null);\n\n  const handleResize = () => {\n    const container = containerRef.current;\n    dimensions.current = {\n      size: {\n        width: container.offsetWidth,\n        height: container.offsetHeight\n      }\n    };\n    forceRender();\n  }; // Set canvas size on mount\n\n\n  useLayoutEffect(handleResize, []);\n  const canvasRef = React.useRef(null);\n  const [block, setBlock] = React.useState(false);\n  const [error, setError] = React.useState(false); // Suspend this component if block is a promise (2nd run)\n\n  if (block) throw block; // Throw exception outwards if anything within canvas throws\n\n  if (error) throw error;\n  const root = useRef();\n\n  if (size.width > 0 && size.height > 0) {\n    if (!root.current) {\n      root.current = createRoot(canvasRef.current);\n    }\n\n    root.current.configure(Object.assign(Object.assign({}, props), {\n      dpr: dpr || props.dpr,\n      size: Object.assign(Object.assign({}, size), {\n        top: 0,\n        left: 0\n      }),\n      events: events$1 || events\n    })).render(React.createElement(ErrorBoundary, {\n      set: setError\n    }, React.createElement(React.Suspense, {\n      fallback: React.createElement(Block, {\n        set: setBlock\n      })\n    }, React.createElement(MotionCanvasContext.Provider, {\n      value: {\n        dimensions,\n        layoutCamera,\n        requestedDpr: calculateDpr(props.dpr)\n      }\n    }, React.createElement(MotionConfigContext.Provider, {\n      value: configContext\n    }, React.createElement(MotionContext.Provider, {\n      value: motionContext\n    }, children))))));\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    const container = canvasRef.current;\n    return () => unmountComponentAtNode(container);\n  }, []);\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    id: id,\n    className: className,\n    tabIndex: tabIndex,\n    style: Object.assign({\n      position: \"relative\",\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"hidden\"\n    }, style)\n  }, React.createElement(\"canvas\", {\n    ref: mergeRefs([canvasRef, forwardedRef]),\n    style: {\n      display: \"block\"\n    }\n  }, fallback));\n}\n\nconst MotionCanvas = forwardRef(CanvasComponent);\nexport { MotionCanvas };","map":{"version":3,"names":["__rest","React","forwardRef","useContext","useRef","useLayoutEffect","MotionContext","MotionConfigContext","useForceUpdate","useIsomorphicLayoutEffect","mergeRefs","createRoot","events","unmountComponentAtNode","MotionCanvasContext","clamp","devicePixelRatio","window","calculateDpr","dpr","Array","isArray","Block","set","Promise","ErrorBoundary","Component","constructor","arguments","state","error","componentDidCatch","props","render","children","getDerivedStateFromError","CanvasComponent","_a","forwardedRef","fallback","tabIndex","id","style","className","events$1","motionContext","configContext","forceRender","layoutCamera","dimensions","size","width","height","current","containerRef","handleResize","container","offsetWidth","offsetHeight","canvasRef","block","setBlock","useState","setError","root","configure","Object","assign","top","left","createElement","Suspense","Provider","value","requestedDpr","ref","position","overflow","display","MotionCanvas"],"sources":["/home/haluk/react-website-v1/node_modules/framer-motion-3d/dist/es/components/MotionCanvas.mjs"],"sourcesContent":["import { __rest } from 'tslib';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef, useLayoutEffect } from 'react';\nimport { MotionContext, MotionConfigContext, useForceUpdate, useIsomorphicLayoutEffect } from 'framer-motion';\nimport { mergeRefs } from 'react-merge-refs';\nimport { createRoot, events, unmountComponentAtNode } from '@react-three/fiber';\nimport { MotionCanvasContext } from './MotionCanvasContext.mjs';\nimport { clamp } from 'popmotion';\n\nconst devicePixelRatio = typeof window !== \"undefined\" ? window.devicePixelRatio : 1;\nconst calculateDpr = (dpr) => Array.isArray(dpr)\n    ? clamp(dpr[0], dpr[1], devicePixelRatio)\n    : dpr || devicePixelRatio;\n/**\n * This file contains a version of R3F's Canvas component that uses our projection\n * system for layout measurements instead of use-react-measure so we can keep the\n * projection and cameras in sync.\n *\n * https://github.com/pmndrs/react-three-fiber/blob/master/packages/fiber/src/web/Canvas.tsx\n */\nfunction Block({ set }) {\n    useIsomorphicLayoutEffect(() => {\n        set(new Promise(() => null));\n        return () => set(false);\n    }, []);\n    return null;\n}\nclass ErrorBoundary extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = { error: false };\n    }\n    componentDidCatch(error) {\n        this.props.set(error);\n    }\n    render() {\n        return this.state.error ? null : this.props.children;\n    }\n}\nErrorBoundary.getDerivedStateFromError = () => ({ error: true });\nfunction CanvasComponent(_a, forwardedRef) {\n    var { children, fallback, tabIndex, id, style, className, events: events$1 } = _a, props = __rest(_a, [\"children\", \"fallback\", \"tabIndex\", \"id\", \"style\", \"className\", \"events\"]);\n    /**\n     * Import existing contexts to pass through variants and MotionConfig from\n     * the DOM to the 3D tree. Shared variants aren't officially supported yet\n     * because the parent DOM tree fires effects before the 3D tree, whereas\n     * variants are expected to run from bottom-up in useEffect.\n     */\n    const motionContext = useContext(MotionContext);\n    const configContext = useContext(MotionConfigContext);\n    const [forceRender] = useForceUpdate();\n    const layoutCamera = useRef(null);\n    const dimensions = useRef({\n        size: { width: 0, height: 0 },\n    });\n    const { size, dpr } = dimensions.current;\n    const containerRef = useRef(null);\n    const handleResize = () => {\n        const container = containerRef.current;\n        dimensions.current = {\n            size: {\n                width: container.offsetWidth,\n                height: container.offsetHeight,\n            },\n        };\n        forceRender();\n    };\n    // Set canvas size on mount\n    useLayoutEffect(handleResize, []);\n    const canvasRef = React.useRef(null);\n    const [block, setBlock] = React.useState(false);\n    const [error, setError] = React.useState(false);\n    // Suspend this component if block is a promise (2nd run)\n    if (block)\n        throw block;\n    // Throw exception outwards if anything within canvas throws\n    if (error)\n        throw error;\n    const root = useRef();\n    if (size.width > 0 && size.height > 0) {\n        if (!root.current) {\n            root.current = createRoot(canvasRef.current);\n        }\n        root.current.configure(Object.assign(Object.assign({}, props), { dpr: dpr || props.dpr, size: Object.assign(Object.assign({}, size), { top: 0, left: 0 }), events: events$1 || events })).render(React.createElement(ErrorBoundary, { set: setError },\n            React.createElement(React.Suspense, { fallback: React.createElement(Block, { set: setBlock }) },\n                React.createElement(MotionCanvasContext.Provider, { value: {\n                        dimensions,\n                        layoutCamera,\n                        requestedDpr: calculateDpr(props.dpr),\n                    } },\n                    React.createElement(MotionConfigContext.Provider, { value: configContext },\n                        React.createElement(MotionContext.Provider, { value: motionContext }, children))))));\n    }\n    useIsomorphicLayoutEffect(() => {\n        const container = canvasRef.current;\n        return () => unmountComponentAtNode(container);\n    }, []);\n    return (React.createElement(\"div\", { ref: containerRef, id: id, className: className, tabIndex: tabIndex, style: Object.assign({ position: \"relative\", width: \"100%\", height: \"100%\", overflow: \"hidden\" }, style) },\n        React.createElement(\"canvas\", { ref: mergeRefs([canvasRef, forwardedRef]), style: { display: \"block\" } }, fallback)));\n}\nconst MotionCanvas = forwardRef(CanvasComponent);\n\nexport { MotionCanvas };\n"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,UAAT,EAAqBC,UAArB,EAAiCC,MAAjC,EAAyCC,eAAzC,QAAgE,OAAhE;AACA,SAASC,aAAT,EAAwBC,mBAAxB,EAA6CC,cAA7C,EAA6DC,yBAA7D,QAA8F,eAA9F;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,sBAA7B,QAA2D,oBAA3D;AACA,SAASC,mBAAT,QAAoC,2BAApC;AACA,SAASC,KAAT,QAAsB,WAAtB;AAEA,MAAMC,gBAAgB,GAAG,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAM,CAACD,gBAAvC,GAA0D,CAAnF;;AACA,MAAME,YAAY,GAAIC,GAAD,IAASC,KAAK,CAACC,OAAN,CAAcF,GAAd,IACxBJ,KAAK,CAACI,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,EAAiBH,gBAAjB,CADmB,GAExBG,GAAG,IAAIH,gBAFb;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASM,KAAT,OAAwB;EAAA,IAAT;IAAEC;EAAF,CAAS;EACpBd,yBAAyB,CAAC,MAAM;IAC5Bc,GAAG,CAAC,IAAIC,OAAJ,CAAY,MAAM,IAAlB,CAAD,CAAH;IACA,OAAO,MAAMD,GAAG,CAAC,KAAD,CAAhB;EACH,CAHwB,EAGtB,EAHsB,CAAzB;EAIA,OAAO,IAAP;AACH;;AACD,MAAME,aAAN,SAA4BxB,KAAK,CAACyB,SAAlC,CAA4C;EACxCC,WAAW,GAAG;IACV,MAAM,GAAGC,SAAT;IACA,KAAKC,KAAL,GAAa;MAAEC,KAAK,EAAE;IAAT,CAAb;EACH;;EACDC,iBAAiB,CAACD,KAAD,EAAQ;IACrB,KAAKE,KAAL,CAAWT,GAAX,CAAeO,KAAf;EACH;;EACDG,MAAM,GAAG;IACL,OAAO,KAAKJ,KAAL,CAAWC,KAAX,GAAmB,IAAnB,GAA0B,KAAKE,KAAL,CAAWE,QAA5C;EACH;;AAVuC;;AAY5CT,aAAa,CAACU,wBAAd,GAAyC,OAAO;EAAEL,KAAK,EAAE;AAAT,CAAP,CAAzC;;AACA,SAASM,eAAT,CAAyBC,EAAzB,EAA6BC,YAA7B,EAA2C;EACvC,IAAI;IAAEJ,QAAF;IAAYK,QAAZ;IAAsBC,QAAtB;IAAgCC,EAAhC;IAAoCC,KAApC;IAA2CC,SAA3C;IAAsD/B,MAAM,EAAEgC;EAA9D,IAA2EP,EAA/E;EAAA,IAAmFL,KAAK,GAAGhC,MAAM,CAACqC,EAAD,EAAK,CAAC,UAAD,EAAa,UAAb,EAAyB,UAAzB,EAAqC,IAArC,EAA2C,OAA3C,EAAoD,WAApD,EAAiE,QAAjE,CAAL,CAAjG;EACA;AACJ;AACA;AACA;AACA;AACA;;;EACI,MAAMQ,aAAa,GAAG1C,UAAU,CAACG,aAAD,CAAhC;EACA,MAAMwC,aAAa,GAAG3C,UAAU,CAACI,mBAAD,CAAhC;EACA,MAAM,CAACwC,WAAD,IAAgBvC,cAAc,EAApC;EACA,MAAMwC,YAAY,GAAG5C,MAAM,CAAC,IAAD,CAA3B;EACA,MAAM6C,UAAU,GAAG7C,MAAM,CAAC;IACtB8C,IAAI,EAAE;MAAEC,KAAK,EAAE,CAAT;MAAYC,MAAM,EAAE;IAApB;EADgB,CAAD,CAAzB;EAGA,MAAM;IAAEF,IAAF;IAAQ/B;EAAR,IAAgB8B,UAAU,CAACI,OAAjC;EACA,MAAMC,YAAY,GAAGlD,MAAM,CAAC,IAAD,CAA3B;;EACA,MAAMmD,YAAY,GAAG,MAAM;IACvB,MAAMC,SAAS,GAAGF,YAAY,CAACD,OAA/B;IACAJ,UAAU,CAACI,OAAX,GAAqB;MACjBH,IAAI,EAAE;QACFC,KAAK,EAAEK,SAAS,CAACC,WADf;QAEFL,MAAM,EAAEI,SAAS,CAACE;MAFhB;IADW,CAArB;IAMAX,WAAW;EACd,CATD,CAjBuC,CA2BvC;;;EACA1C,eAAe,CAACkD,YAAD,EAAe,EAAf,CAAf;EACA,MAAMI,SAAS,GAAG1D,KAAK,CAACG,MAAN,CAAa,IAAb,CAAlB;EACA,MAAM,CAACwD,KAAD,EAAQC,QAAR,IAAoB5D,KAAK,CAAC6D,QAAN,CAAe,KAAf,CAA1B;EACA,MAAM,CAAChC,KAAD,EAAQiC,QAAR,IAAoB9D,KAAK,CAAC6D,QAAN,CAAe,KAAf,CAA1B,CA/BuC,CAgCvC;;EACA,IAAIF,KAAJ,EACI,MAAMA,KAAN,CAlCmC,CAmCvC;;EACA,IAAI9B,KAAJ,EACI,MAAMA,KAAN;EACJ,MAAMkC,IAAI,GAAG5D,MAAM,EAAnB;;EACA,IAAI8C,IAAI,CAACC,KAAL,GAAa,CAAb,IAAkBD,IAAI,CAACE,MAAL,GAAc,CAApC,EAAuC;IACnC,IAAI,CAACY,IAAI,CAACX,OAAV,EAAmB;MACfW,IAAI,CAACX,OAAL,GAAe1C,UAAU,CAACgD,SAAS,CAACN,OAAX,CAAzB;IACH;;IACDW,IAAI,CAACX,OAAL,CAAaY,SAAb,CAAuBC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBnC,KAAlB,CAAd,EAAwC;MAAEb,GAAG,EAAEA,GAAG,IAAIa,KAAK,CAACb,GAApB;MAAyB+B,IAAI,EAAEgB,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBjB,IAAlB,CAAd,EAAuC;QAAEkB,GAAG,EAAE,CAAP;QAAUC,IAAI,EAAE;MAAhB,CAAvC,CAA/B;MAA4FzD,MAAM,EAAEgC,QAAQ,IAAIhC;IAAhH,CAAxC,CAAvB,EAA0LqB,MAA1L,CAAiMhC,KAAK,CAACqE,aAAN,CAAoB7C,aAApB,EAAmC;MAAEF,GAAG,EAAEwC;IAAP,CAAnC,EAC7L9D,KAAK,CAACqE,aAAN,CAAoBrE,KAAK,CAACsE,QAA1B,EAAoC;MAAEhC,QAAQ,EAAEtC,KAAK,CAACqE,aAAN,CAAoBhD,KAApB,EAA2B;QAAEC,GAAG,EAAEsC;MAAP,CAA3B;IAAZ,CAApC,EACI5D,KAAK,CAACqE,aAAN,CAAoBxD,mBAAmB,CAAC0D,QAAxC,EAAkD;MAAEC,KAAK,EAAE;QACnDxB,UADmD;QAEnDD,YAFmD;QAGnD0B,YAAY,EAAExD,YAAY,CAACc,KAAK,CAACb,GAAP;MAHyB;IAAT,CAAlD,EAKIlB,KAAK,CAACqE,aAAN,CAAoB/D,mBAAmB,CAACiE,QAAxC,EAAkD;MAAEC,KAAK,EAAE3B;IAAT,CAAlD,EACI7C,KAAK,CAACqE,aAAN,CAAoBhE,aAAa,CAACkE,QAAlC,EAA4C;MAAEC,KAAK,EAAE5B;IAAT,CAA5C,EAAsEX,QAAtE,CADJ,CALJ,CADJ,CAD6L,CAAjM;EASH;;EACDzB,yBAAyB,CAAC,MAAM;IAC5B,MAAM+C,SAAS,GAAGG,SAAS,CAACN,OAA5B;IACA,OAAO,MAAMxC,sBAAsB,CAAC2C,SAAD,CAAnC;EACH,CAHwB,EAGtB,EAHsB,CAAzB;EAIA,OAAQvD,KAAK,CAACqE,aAAN,CAAoB,KAApB,EAA2B;IAAEK,GAAG,EAAErB,YAAP;IAAqBb,EAAE,EAAEA,EAAzB;IAA6BE,SAAS,EAAEA,SAAxC;IAAmDH,QAAQ,EAAEA,QAA7D;IAAuEE,KAAK,EAAEwB,MAAM,CAACC,MAAP,CAAc;MAAES,QAAQ,EAAE,UAAZ;MAAwBzB,KAAK,EAAE,MAA/B;MAAuCC,MAAM,EAAE,MAA/C;MAAuDyB,QAAQ,EAAE;IAAjE,CAAd,EAA2FnC,KAA3F;EAA9E,CAA3B,EACJzC,KAAK,CAACqE,aAAN,CAAoB,QAApB,EAA8B;IAAEK,GAAG,EAAEjE,SAAS,CAAC,CAACiD,SAAD,EAAYrB,YAAZ,CAAD,CAAhB;IAA6CI,KAAK,EAAE;MAAEoC,OAAO,EAAE;IAAX;EAApD,CAA9B,EAA0GvC,QAA1G,CADI,CAAR;AAEH;;AACD,MAAMwC,YAAY,GAAG7E,UAAU,CAACkC,eAAD,CAA/B;AAEA,SAAS2C,YAAT"},"metadata":{},"sourceType":"module"}