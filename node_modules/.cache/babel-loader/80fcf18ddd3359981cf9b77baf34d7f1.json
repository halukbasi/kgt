{"ast":null,"code":"\"use strict\";\n\n(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = factory();\n  } else {\n    global.CBOR = factory();\n  }\n})(this, function () {\n  const {\n    DataItem\n  } = require('./DataItem');\n\n  var CBOR = function () {\n    function BinaryHex(hex) {\n      this.$hex = hex;\n    }\n\n    BinaryHex.prototype = {\n      length: function () {\n        return this.$hex.length / 2;\n      },\n      toString: function (format) {\n        if (!format || format === 'hex' || format === 16) return this.$hex;\n\n        if (format === 'utf-8') {\n          var encoded = '';\n\n          for (var i = 0; i < this.$hex.length; i += 2) {\n            encoded += '%' + this.$hex.substring(i, i + 2);\n          }\n\n          return decodeURIComponent(encoded);\n        }\n\n        if (format === 'latin') {\n          var encoded = [];\n\n          for (var i = 0; i < this.$hex.length; i += 2) {\n            encoded.push(parseInt(this.$hex.substring(i, i + 2), 16));\n          }\n\n          return String.fromCharCode.apply(String, encoded);\n        }\n\n        throw new Error('Unrecognised format: ' + format);\n      }\n    };\n\n    BinaryHex.fromLatinString = function (latinString) {\n      var hex = '';\n\n      for (var i = 0; i < latinString.length; i++) {\n        var pair = latinString.charCodeAt(i).toString(16);\n        if (pair.length === 1) pair = '0' + pair;\n        hex += pair;\n      }\n\n      return new BinaryHex(hex);\n    };\n\n    BinaryHex.fromUtf8String = function (utf8String) {\n      var encoded = encodeURIComponent(utf8String);\n      var hex = '';\n\n      for (var i = 0; i < encoded.length; i++) {\n        if (encoded.charAt(i) === '%') {\n          hex += encoded.substring(i + 1, i + 3);\n          i += 2;\n        } else {\n          var hexPair = encoded.charCodeAt(i).toString(16);\n          if (hexPair.length < 2) hexPair = '0' + hexPair;\n          hex += hexPair;\n        }\n      }\n\n      return new BinaryHex(hex);\n    };\n\n    var semanticEncoders = [];\n    var semanticDecoders = {};\n\n    var notImplemented = function (label) {\n      return function () {\n        throw new Error(label + ' not implemented');\n      };\n    };\n\n    function Reader() {}\n\n    Reader.prototype = {\n      peekByte: notImplemented('peekByte'),\n      readByte: notImplemented('readByte'),\n      readChunk: notImplemented('readChunk'),\n      readFloat16: function () {\n        var half = this.readUint16();\n        var exponent = (half & 0x7fff) >> 10;\n        var mantissa = half & 0x3ff;\n        var negative = half & 0x8000;\n\n        if (exponent === 0x1f) {\n          if (mantissa === 0) {\n            return negative ? -Infinity : Infinity;\n          }\n\n          return NaN;\n        }\n\n        var magnitude = exponent ? Math.pow(2, exponent - 25) * (1024 + mantissa) : Math.pow(2, -24) * mantissa;\n        return negative ? -magnitude : magnitude;\n      },\n      readFloat32: function () {\n        var intValue = this.readUint32();\n        var exponent = (intValue & 0x7fffffff) >> 23;\n        var mantissa = intValue & 0x7fffff;\n        var negative = intValue & 0x80000000;\n\n        if (exponent === 0xff) {\n          if (mantissa === 0) {\n            return negative ? -Infinity : Infinity;\n          }\n\n          return NaN;\n        }\n\n        var magnitude = exponent ? Math.pow(2, exponent - 23 - 127) * (8388608 + mantissa) : Math.pow(2, -23 - 126) * mantissa;\n        return negative ? -magnitude : magnitude;\n      },\n      readFloat64: function () {\n        var int1 = this.readUint32(),\n            int2 = this.readUint32();\n        var exponent = int1 >> 20 & 0x7ff;\n        var mantissa = (int1 & 0xfffff) * 4294967296 + int2;\n        var negative = int1 & 0x80000000;\n\n        if (exponent === 0x7ff) {\n          if (mantissa === 0) {\n            return negative ? -Infinity : Infinity;\n          }\n\n          return NaN;\n        }\n\n        var magnitude = exponent ? Math.pow(2, exponent - 52 - 1023) * (4503599627370496 + mantissa) : Math.pow(2, -52 - 1022) * mantissa;\n        return negative ? -magnitude : magnitude;\n      },\n      readUint16: function () {\n        return this.readByte() * 256 + this.readByte();\n      },\n      readUint32: function () {\n        return this.readUint16() * 65536 + this.readUint16();\n      },\n      readUint64: function () {\n        return this.readUint32() * 4294967296 + this.readUint32();\n      }\n    };\n\n    function Writer() {}\n\n    Writer.prototype = {\n      writeByte: notImplemented('writeByte'),\n      result: notImplemented('result'),\n      writeFloat16: notImplemented('writeFloat16'),\n      writeFloat32: notImplemented('writeFloat32'),\n      writeFloat64: notImplemented('writeFloat64'),\n      writeUint16: function (value) {\n        this.writeByte(value >> 8 & 0xff);\n        this.writeByte(value & 0xff);\n      },\n      writeUint32: function (value) {\n        this.writeUint16(value >> 16 & 0xffff);\n        this.writeUint16(value & 0xffff);\n      },\n      writeUint64: function (value) {\n        if (value >= 9007199254740992 || value <= -9007199254740992) {\n          throw new Error('Cannot encode Uint64 of: ' + value + ' magnitude to big (floating point errors)');\n        }\n\n        this.writeUint32(Math.floor(value / 4294967296));\n        this.writeUint32(value % 4294967296);\n      },\n      writeString: notImplemented('writeString'),\n      canWriteBinary: function (chunk) {\n        return false;\n      },\n      writeBinary: notImplemented('writeChunk')\n    };\n\n    function readHeaderRaw(reader) {\n      var firstByte = reader.readByte();\n      var majorType = firstByte >> 5,\n          value = firstByte & 0x1f;\n      return {\n        type: majorType,\n        value: value\n      };\n    }\n\n    function valueFromHeader(header, reader) {\n      var value = header.value;\n\n      if (value < 24) {\n        return value;\n      } else if (value == 24) {\n        return reader.readByte();\n      } else if (value == 25) {\n        return reader.readUint16();\n      } else if (value == 26) {\n        return reader.readUint32();\n      } else if (value == 27) {\n        return reader.readUint64();\n      } else if (value == 31) {\n        return null;\n      }\n\n      notImplemented('Additional info: ' + value)();\n    }\n\n    function writeHeaderRaw(type, value, writer) {\n      writer.writeByte(type << 5 | value);\n    }\n\n    function writeHeader(type, value, writer) {\n      var firstByte = type << 5;\n\n      if (value < 24) {\n        writer.writeByte(firstByte | value);\n      } else if (value < 256) {\n        writer.writeByte(firstByte | 24);\n        writer.writeByte(value);\n      } else if (value < 65536) {\n        writer.writeByte(firstByte | 25);\n        writer.writeUint16(value);\n      } else if (value < 4294967296) {\n        writer.writeByte(firstByte | 26);\n        writer.writeUint32(value);\n      } else {\n        writer.writeByte(firstByte | 27);\n        writer.writeUint64(value);\n      }\n    }\n\n    var stopCode = new Error();\n\n    function decodeReader(reader) {\n      var header = readHeaderRaw(reader);\n\n      switch (header.type) {\n        case 0:\n          return valueFromHeader(header, reader);\n\n        case 1:\n          return -1 - valueFromHeader(header, reader);\n\n        case 2:\n          return reader.readChunk(valueFromHeader(header, reader));\n\n        case 3:\n          var buffer = reader.readChunk(valueFromHeader(header, reader));\n          return buffer.toString('utf-8');\n\n        case 4:\n        case 5:\n          var arrayLength = valueFromHeader(header, reader);\n          var result = [];\n\n          if (arrayLength !== null) {\n            if (header.type === 5) {\n              arrayLength *= 2;\n            }\n\n            for (var i = 0; i < arrayLength; i++) {\n              result[i] = decodeReader(reader);\n            }\n          } else {\n            var item;\n\n            while ((item = decodeReader(reader)) !== stopCode) {\n              result.push(item);\n            }\n          }\n\n          if (header.type === 5) {\n            var objResult = {};\n\n            for (var i = 0; i < result.length; i += 2) {\n              objResult[result[i]] = result[i + 1];\n            }\n\n            return objResult;\n          } else {\n            return result;\n          }\n\n        case 6:\n          var tag = valueFromHeader(header, reader);\n          var decoder = semanticDecoders[tag];\n          var result = decodeReader(reader);\n          return decoder ? decoder(result) : result;\n\n        case 7:\n          if (header.value === 25) {\n            return reader.readFloat16();\n          } else if (header.value === 26) {\n            return reader.readFloat32();\n          } else if (header.value === 27) {\n            return reader.readFloat64();\n          }\n\n          switch (valueFromHeader(header, reader)) {\n            case 20:\n              return false;\n\n            case 21:\n              return true;\n\n            case 22:\n              return null;\n\n            case 23:\n              return undefined;\n\n            case null:\n              return stopCode;\n\n            default:\n              throw new Error('Unknown fixed value: ' + header.value);\n          }\n\n        default:\n          throw new Error('Unsupported header: ' + JSON.stringify(header));\n      }\n\n      throw new Error('not implemented yet');\n    }\n\n    function encodeWriter(data, writer) {\n      for (var i = 0; i < semanticEncoders.length; i++) {\n        var replacement = semanticEncoders[i].fn(data);\n\n        if (replacement !== undefined) {\n          writeHeader(6, semanticEncoders[i].tag, writer);\n          return encodeWriter(replacement, writer);\n        }\n      }\n\n      if (data && typeof data.toCBOR === 'function') {\n        data = data.toCBOR();\n      }\n\n      if (data === false) {\n        writeHeader(7, 20, writer);\n      } else if (data === true) {\n        writeHeader(7, 21, writer);\n      } else if (data === null) {\n        writeHeader(7, 22, writer);\n      } else if (data === undefined) {\n        writeHeader(7, 23, writer);\n      } else if (typeof data === 'number') {\n        if (Math.floor(data) === data && data < 9007199254740992 && data > -9007199254740992) {\n          if (data < 0) {\n            writeHeader(1, -1 - data, writer);\n          } else {\n            writeHeader(0, data, writer);\n          }\n        } else {\n          writeHeaderRaw(7, 27, writer);\n          writer.writeFloat64(data);\n        }\n      } else if (typeof data === 'string') {\n        writer.writeString(data, function (length) {\n          writeHeader(3, length, writer);\n        });\n      } else if (writer.canWriteBinary(data)) {\n        writer.writeBinary(data, function (length) {\n          writeHeader(2, length, writer);\n        });\n      } else if (typeof data === 'object') {\n        if (api.config.useToJSON && typeof data.toJSON === 'function') {\n          data = data.toJSON();\n        }\n\n        if (Array.isArray(data)) {\n          writeHeader(4, data.length, writer);\n\n          for (var i = 0; i < data.length; i++) {\n            encodeWriter(data[i], writer);\n          }\n        } else {\n          var keys = Object.keys(data);\n          writeHeader(5, keys.length, writer);\n\n          for (var i = 0; i < keys.length; i++) {\n            const number = parseInt(keys[i]);\n\n            if (isNaN(number)) {\n              encodeWriter(keys[i], writer);\n              encodeWriter(data[keys[i]], writer);\n            } else {\n              encodeWriter(number, writer);\n              encodeWriter(data[keys[i]], writer);\n            }\n          }\n        }\n      } else {\n        throw new Error('CBOR encoding not supported: ' + data);\n      }\n    }\n\n    var readerFunctions = [];\n    var writerFunctions = [];\n    var api = {\n      config: {\n        useToJSON: true\n      },\n      addWriter: function (format, writerFunction) {\n        if (typeof format === 'string') {\n          writerFunctions.push(function (f) {\n            if (format === f) return writerFunction(f);\n          });\n        } else {\n          writerFunctions.push(format);\n        }\n      },\n      addReader: function (format, readerFunction) {\n        if (typeof format === 'string') {\n          readerFunctions.push(function (data, f) {\n            if (format === f) return readerFunction(data, f);\n          });\n        } else {\n          readerFunctions.push(format);\n        }\n      },\n      encode: function (data, format) {\n        for (var i = 0; i < writerFunctions.length; i++) {\n          var func = writerFunctions[i];\n          var writer = func(format);\n\n          if (writer) {\n            encodeWriter(data, writer);\n            return writer.result();\n          }\n        }\n\n        throw new Error('Unsupported output format: ' + format);\n      },\n      encodeDataItem: function (data, format) {\n        for (var i = 0; i < writerFunctions.length; i++) {\n          var func = writerFunctions[i];\n          var writer = func(format);\n\n          if (writer) {\n            if (data.getTag() !== undefined) {\n              encodeWriter(data, writer);\n              return writer.result();\n            } else {\n              encodeWriter(data.getData(), writer);\n              return writer.result();\n            }\n          }\n        }\n\n        throw new Error('Unsupported output format: ' + format);\n      },\n      decode: function (data, format) {\n        for (var i = 0; i < readerFunctions.length; i++) {\n          var func = readerFunctions[i];\n          var reader = func(data, format);\n\n          if (reader) {\n            return decodeReader(reader);\n          }\n        }\n\n        throw new Error('Unsupported input format: ' + format);\n      },\n      decodeToDataItem: function (data, format) {\n        for (var i = 0; i < readerFunctions.length; i++) {\n          var func = readerFunctions[i];\n          var reader = func(data, format);\n\n          if (reader) {\n            const result = decodeReader(reader);\n\n            if (result instanceof DataItem) {\n              return result;\n            } else {\n              return new DataItem(result);\n            }\n          }\n        }\n\n        throw new Error('Unsupported input format: ' + format);\n      },\n      addSemanticEncode: function (tag, fn) {\n        if (typeof tag !== 'number' || tag % 1 !== 0 || tag < 0) {\n          throw new Error('Tag must be a positive integer');\n        }\n\n        semanticEncoders.push({\n          tag: tag,\n          fn: fn\n        });\n        return this;\n      },\n      addSemanticDecode: function (tag, fn) {\n        if (typeof tag !== 'number' || tag % 1 !== 0 || tag < 0) {\n          throw new Error('Tag must be a positive integer');\n        }\n\n        semanticDecoders[tag] = fn;\n        return this;\n      }\n    };\n\n    function BufferReader(buffer) {\n      this.buffer = buffer;\n      this.pos = 0;\n    }\n\n    BufferReader.prototype = Object.create(Reader.prototype);\n\n    BufferReader.prototype.peekByte = function () {\n      return this.buffer[this.pos];\n    };\n\n    BufferReader.prototype.readByte = function () {\n      return this.buffer[this.pos++];\n    };\n\n    BufferReader.prototype.readUint16 = function () {\n      var result = this.buffer.readUInt16BE(this.pos);\n      this.pos += 2;\n      return result;\n    };\n\n    BufferReader.prototype.readUint32 = function () {\n      var result = this.buffer.readUInt32BE(this.pos);\n      this.pos += 4;\n      return result;\n    };\n\n    BufferReader.prototype.readFloat32 = function () {\n      var result = this.buffer.readFloatBE(this.pos);\n      this.pos += 4;\n      return result;\n    };\n\n    BufferReader.prototype.readFloat64 = function () {\n      var result = this.buffer.readDoubleBE(this.pos);\n      this.pos += 8;\n      return result;\n    };\n\n    BufferReader.prototype.readChunk = function (length) {\n      var result = Buffer.alloc(length);\n      this.buffer.copy(result, 0, this.pos, this.pos += length);\n      return result;\n    };\n\n    function BufferWriter(stringFormat) {\n      this.byteLength = 0;\n      this.defaultBufferLength = 16384;\n      this.latestBuffer = Buffer.alloc(this.defaultBufferLength);\n      this.latestBufferOffset = 0;\n      this.completeBuffers = [];\n      this.stringFormat = stringFormat;\n    }\n\n    BufferWriter.prototype = Object.create(Writer.prototype);\n\n    BufferWriter.prototype.writeByte = function (value) {\n      this.latestBuffer[this.latestBufferOffset++] = value;\n\n      if (this.latestBufferOffset >= this.latestBuffer.length) {\n        this.completeBuffers.push(this.latestBuffer);\n        this.latestBuffer = Buffer.alloc(this.defaultBufferLength);\n        this.latestBufferOffset = 0;\n      }\n\n      this.byteLength++;\n    };\n\n    BufferWriter.prototype.writeFloat32 = function (value) {\n      var buffer = Buffer.alloc(4);\n      buffer.writeFloatBE(value, 0);\n      this.writeBuffer(buffer);\n    };\n\n    BufferWriter.prototype.writeFloat64 = function (value) {\n      var buffer = Buffer.alloc(8);\n      buffer.writeDoubleBE(value, 0);\n      this.writeBuffer(buffer);\n    };\n\n    BufferWriter.prototype.writeString = function (string, lengthFunc) {\n      var buffer = Buffer.from(string, 'utf-8');\n      lengthFunc(buffer.length);\n      this.writeBuffer(buffer);\n    };\n\n    BufferWriter.prototype.canWriteBinary = function (data) {\n      return data instanceof Buffer;\n    };\n\n    BufferWriter.prototype.writeBinary = function (buffer, lengthFunc) {\n      lengthFunc(buffer.length);\n      this.writeBuffer(buffer);\n    };\n\n    BufferWriter.prototype.writeBuffer = function (chunk) {\n      if (!(chunk instanceof Buffer)) throw new TypeError('BufferWriter only accepts Buffers');\n\n      if (!this.latestBufferOffset) {\n        this.completeBuffers.push(chunk);\n      } else if (this.latestBuffer.length - this.latestBufferOffset >= chunk.length) {\n        chunk.copy(this.latestBuffer, this.latestBufferOffset);\n        this.latestBufferOffset += chunk.length;\n\n        if (this.latestBufferOffset >= this.latestBuffer.length) {\n          this.completeBuffers.push(this.latestBuffer);\n          this.latestBuffer = Buffer.alloc(this.defaultBufferLength);\n          this.latestBufferOffset = 0;\n        }\n      } else {\n        this.completeBuffers.push(this.latestBuffer.slice(0, this.latestBufferOffset));\n        this.completeBuffers.push(chunk);\n        this.latestBuffer = Buffer.alloc(this.defaultBufferLength);\n        this.latestBufferOffset = 0;\n      }\n\n      this.byteLength += chunk.length;\n    };\n\n    BufferWriter.prototype.result = function () {\n      var result = Buffer.alloc(this.byteLength);\n      var offset = 0;\n\n      for (var i = 0; i < this.completeBuffers.length; i++) {\n        var buffer = this.completeBuffers[i];\n        buffer.copy(result, offset, 0, buffer.length);\n        offset += buffer.length;\n      }\n\n      if (this.latestBufferOffset) {\n        this.latestBuffer.copy(result, offset, 0, this.latestBufferOffset);\n      }\n\n      if (this.stringFormat) return result.toString(this.stringFormat);\n      return result;\n    };\n\n    if (typeof Buffer === 'function') {\n      api.addReader(function (data, format) {\n        if (data instanceof Buffer) {\n          return new BufferReader(data);\n        }\n\n        if (format === 'hex' || format === 'base64') {\n          var buffer = Buffer.from(data, format);\n          return new BufferReader(buffer);\n        }\n      });\n      api.addWriter(function (format) {\n        if (!format || format === 'buffer') {\n          return new BufferWriter();\n        } else if (format === 'hex' || format === 'base64') {\n          return new BufferWriter(format);\n        }\n      });\n    }\n\n    function HexReader(hex) {\n      this.hex = hex;\n      this.pos = 0;\n    }\n\n    HexReader.prototype = Object.create(Reader.prototype);\n\n    HexReader.prototype.peekByte = function () {\n      var pair = this.hex.substring(this.pos, 2);\n      return parseInt(pair, 16);\n    };\n\n    HexReader.prototype.readByte = function () {\n      var pair = this.hex.substring(this.pos, this.pos + 2);\n      this.pos += 2;\n      return parseInt(pair, 16);\n    };\n\n    HexReader.prototype.readChunk = function (length) {\n      var hex = this.hex.substring(this.pos, this.pos + length * 2);\n      this.pos += length * 2;\n      if (typeof Buffer === 'function') return Buffer.from(hex, 'hex');\n      return new BinaryHex(hex);\n    };\n\n    function HexWriter(finalFormat) {\n      this.$hex = '';\n      this.finalFormat = finalFormat || 'hex';\n    }\n\n    HexWriter.prototype = Object.create(Writer.prototype);\n\n    HexWriter.prototype.writeByte = function (value) {\n      if (value < 0 || value > 255) throw new Error('Byte value out of range: ' + value);\n      var hex = value.toString(16);\n\n      if (hex.length == 1) {\n        hex = '0' + hex;\n      }\n\n      this.$hex += hex;\n    };\n\n    HexWriter.prototype.canWriteBinary = function (chunk) {\n      return chunk instanceof BinaryHex || typeof Buffer === 'function' && chunk instanceof Buffer;\n    };\n\n    HexWriter.prototype.writeBinary = function (chunk, lengthFunction) {\n      if (chunk instanceof BinaryHex) {\n        lengthFunction(chunk.length());\n        this.$hex += chunk.$hex;\n      } else if (typeof Buffer === 'function' && chunk instanceof Buffer) {\n        lengthFunction(chunk.length);\n        this.$hex += chunk.toString('hex');\n      } else {\n        throw new TypeError('HexWriter only accepts BinaryHex or Buffers');\n      }\n    };\n\n    HexWriter.prototype.result = function () {\n      if (this.finalFormat === 'buffer' && typeof Buffer === 'function') {\n        return Buffer.from(this.$hex, 'hex');\n      }\n\n      return new BinaryHex(this.$hex).toString(this.finalFormat);\n    };\n\n    HexWriter.prototype.writeString = function (string, lengthFunction) {\n      var buffer = BinaryHex.fromUtf8String(string);\n      lengthFunction(buffer.length());\n      this.$hex += buffer.$hex;\n    };\n\n    api.addReader(function (data, format) {\n      if (data instanceof BinaryHex || data.$hex) {\n        return new HexReader(data.$hex);\n      }\n\n      if (format === 'hex') {\n        return new HexReader(data);\n      }\n    });\n    api.addWriter(function (format) {\n      if (format === 'hex') {\n        return new HexWriter();\n      }\n    });\n    return api;\n  }();\n\n  CBOR.addSemanticEncode(0, function (data) {\n    if (data instanceof Date) {\n      return data.toISOString();\n    }\n  }).addSemanticDecode(0, function (isoString) {\n    return new Date(isoString);\n  }).addSemanticDecode(1, function (isoString) {\n    return new Date(isoString);\n  });\n  return CBOR;\n});","map":{"version":3,"mappings":"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","names":["global","factory","define","amd","module","exports","CBOR","DataItem","require","BinaryHex","hex","$hex","prototype","length","toString","format","encoded","i","substring","decodeURIComponent","push","parseInt","String","fromCharCode","apply","Error","fromLatinString","latinString","pair","charCodeAt","fromUtf8String","utf8String","encodeURIComponent","charAt","hexPair","semanticEncoders","semanticDecoders","notImplemented","label","Reader","peekByte","readByte","readChunk","readFloat16","half","readUint16","exponent","mantissa","negative","Infinity","NaN","magnitude","Math","pow","readFloat32","intValue","readUint32","readFloat64","int1","int2","readUint64","Writer","writeByte","result","writeFloat16","writeFloat32","writeFloat64","writeUint16","value","writeUint32","writeUint64","floor","writeString","canWriteBinary","chunk","writeBinary","readHeaderRaw","reader","firstByte","majorType","type","valueFromHeader","header","writeHeaderRaw","writer","writeHeader","stopCode","decodeReader","buffer","arrayLength","item","objResult","tag","decoder","undefined","JSON","stringify","encodeWriter","data","replacement","fn","toCBOR","api","config","useToJSON","toJSON","Array","isArray","keys","Object","number","isNaN","readerFunctions","writerFunctions","addWriter","writerFunction","f","addReader","readerFunction","encode","func","encodeDataItem","getTag","getData","decode","decodeToDataItem","addSemanticEncode","addSemanticDecode","BufferReader","pos","create","readUInt16BE","readUInt32BE","readFloatBE","readDoubleBE","Buffer","alloc","copy","BufferWriter","stringFormat","byteLength","defaultBufferLength","latestBuffer","latestBufferOffset","completeBuffers","writeFloatBE","writeBuffer","writeDoubleBE","string","lengthFunc","from","TypeError","slice","offset","HexReader","HexWriter","finalFormat","lengthFunction","Date","toISOString","isoString"],"sourceRoot":"","sources":["../../src/lib/cbor-sync.js"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}