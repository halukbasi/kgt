{"ast":null,"code":"import { pipe } from 'popmotion';\nimport { useRef } from 'react';\nimport { wrapHandler, addPointerEvent, AnimationType, isDragActive } from 'framer-motion';\n\nfunction useTap(isStatic, _ref, visualElement) {\n  let {\n    whileTap,\n    onTapStart,\n    onTap,\n    onTapCancel,\n    onPointerDown\n  } = _ref;\n  const isTapEnabled = onTap || onTapStart || onTapCancel || whileTap;\n  const isPressing = useRef(false);\n  const cancelPointerEndListeners = useRef(null);\n  if (isStatic || !visualElement || !isTapEnabled) return {};\n\n  function removePointerEndListener() {\n    var _a;\n\n    (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n    cancelPointerEndListeners.current = null;\n  }\n\n  function checkPointerEnd() {\n    var _a;\n\n    removePointerEndListener();\n    isPressing.current = false;\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n    return !isDragActive();\n  }\n\n  function onPointerUp(event, info) {\n    if (!checkPointerEnd()) return;\n    /**\n     * We only count this as a tap gesture if the event.target is the same\n     * as, or a child of, this component's element\n     */\n\n    onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n  }\n\n  function onPointerCancel(event, info) {\n    if (!checkPointerEnd()) return;\n    onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n  }\n\n  return {\n    onPointerDown: wrapHandler((event, info) => {\n      var _a;\n\n      removePointerEndListener();\n      if (isPressing.current) return;\n      isPressing.current = true;\n      /**\n       * Only set listener to passive if there are no external listeners.\n       */\n\n      const options = {\n        passive: !(onTapStart || onTap || onTapCancel || onPointerDown)\n      };\n      cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp, options), addPointerEvent(window, \"pointercancel\", onPointerCancel, options));\n      (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n      onPointerDown === null || onPointerDown === void 0 ? void 0 : onPointerDown(event);\n      onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n    }, true)\n  };\n}\n\nexport { useTap };","map":{"version":3,"names":["pipe","useRef","wrapHandler","addPointerEvent","AnimationType","isDragActive","useTap","isStatic","visualElement","whileTap","onTapStart","onTap","onTapCancel","onPointerDown","isTapEnabled","isPressing","cancelPointerEndListeners","removePointerEndListener","_a","current","call","checkPointerEnd","animationState","setActive","Tap","onPointerUp","event","info","onPointerCancel","options","passive","window"],"sources":["/home/haluk/react-website-v1/node_modules/framer-motion-3d/dist/es/render/gestures/use-tap.mjs"],"sourcesContent":["import { pipe } from 'popmotion';\nimport { useRef } from 'react';\nimport { wrapHandler, addPointerEvent, AnimationType, isDragActive } from 'framer-motion';\n\nfunction useTap(isStatic, { whileTap, onTapStart, onTap, onTapCancel, onPointerDown, }, visualElement) {\n    const isTapEnabled = onTap || onTapStart || onTapCancel || whileTap;\n    const isPressing = useRef(false);\n    const cancelPointerEndListeners = useRef(null);\n    if (isStatic || !visualElement || !isTapEnabled)\n        return {};\n    function removePointerEndListener() {\n        var _a;\n        (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n        cancelPointerEndListeners.current = null;\n    }\n    function checkPointerEnd() {\n        var _a;\n        removePointerEndListener();\n        isPressing.current = false;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n        return !isDragActive();\n    }\n    function onPointerUp(event, info) {\n        if (!checkPointerEnd())\n            return;\n        /**\n         * We only count this as a tap gesture if the event.target is the same\n         * as, or a child of, this component's element\n         */\n        onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n    }\n    function onPointerCancel(event, info) {\n        if (!checkPointerEnd())\n            return;\n        onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n    }\n    return {\n        onPointerDown: wrapHandler((event, info) => {\n            var _a;\n            removePointerEndListener();\n            if (isPressing.current)\n                return;\n            isPressing.current = true;\n            /**\n             * Only set listener to passive if there are no external listeners.\n             */\n            const options = {\n                passive: !(onTapStart || onTap || onTapCancel || onPointerDown),\n            };\n            cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp, options), addPointerEvent(window, \"pointercancel\", onPointerCancel, options));\n            (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n            onPointerDown === null || onPointerDown === void 0 ? void 0 : onPointerDown(event);\n            onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n        }, true),\n    };\n}\n\nexport { useTap };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}