{"ast":null,"code":"import { useWallet } from '@solana/wallet-adapter-react';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Button } from './Button.mjs';\nimport { useWalletModal } from './useWalletModal.mjs';\nimport { WalletConnectButton } from './WalletConnectButton.mjs';\nimport { WalletIcon } from './WalletIcon.mjs';\nimport { WalletModalButton } from './WalletModalButton.mjs';\nexport const WalletMultiButton = _ref => {\n  let {\n    children,\n    ...props\n  } = _ref;\n  const {\n    publicKey,\n    wallet,\n    disconnect\n  } = useWallet();\n  const {\n    setVisible\n  } = useWalletModal();\n  const [copied, setCopied] = useState(false);\n  const [active, setActive] = useState(false);\n  const ref = useRef(null);\n  const base58 = useMemo(() => publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58(), [publicKey]);\n  const content = useMemo(() => {\n    if (children) return children;\n    if (!wallet || !base58) return null;\n    return base58.slice(0, 4) + '..' + base58.slice(-4);\n  }, [children, wallet, base58]);\n  const copyAddress = useCallback(async () => {\n    if (base58) {\n      await navigator.clipboard.writeText(base58);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 400);\n    }\n  }, [base58]);\n  const openDropdown = useCallback(() => {\n    setActive(true);\n  }, []);\n  const closeDropdown = useCallback(() => {\n    setActive(false);\n  }, []);\n  const openModal = useCallback(() => {\n    setVisible(true);\n    closeDropdown();\n  }, [closeDropdown]);\n  useEffect(() => {\n    const listener = event => {\n      const node = ref.current; // Do nothing if clicking dropdown or its descendants\n\n      if (!node || node.contains(event.target)) return;\n      closeDropdown();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, closeDropdown]);\n  if (!wallet) return React.createElement(WalletModalButton, { ...props\n  }, children);\n  if (!base58) return React.createElement(WalletConnectButton, { ...props\n  }, children);\n  return React.createElement(\"div\", {\n    className: \"wallet-adapter-dropdown\"\n  }, React.createElement(Button, {\n    \"aria-expanded\": active,\n    className: \"wallet-adapter-button-trigger\",\n    style: {\n      pointerEvents: active ? 'none' : 'auto',\n      ...props.style\n    },\n    onClick: openDropdown,\n    startIcon: React.createElement(WalletIcon, {\n      wallet: wallet\n    }),\n    ...props\n  }, content), React.createElement(\"ul\", {\n    \"aria-label\": \"dropdown-list\",\n    className: `wallet-adapter-dropdown-list ${active && 'wallet-adapter-dropdown-list-active'}`,\n    ref: ref,\n    role: \"menu\"\n  }, React.createElement(\"li\", {\n    onClick: copyAddress,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, copied ? 'Copied' : 'Copy address'), React.createElement(\"li\", {\n    onClick: openModal,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Change wallet\"), React.createElement(\"li\", {\n    onClick: disconnect,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Disconnect\")));\n};","map":{"version":3,"mappings":"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","names":["useWallet","React","useCallback","useEffect","useMemo","useRef","useState","Button","useWalletModal","WalletConnectButton","WalletIcon","WalletModalButton","WalletMultiButton","children","props","publicKey","wallet","disconnect","setVisible","copied","setCopied","active","setActive","ref","base58","toBase58","content","slice","copyAddress","navigator","clipboard","writeText","setTimeout","openDropdown","closeDropdown","openModal","listener","event","node","current","contains","target","document","addEventListener","removeEventListener","className","style","pointerEvents","onClick","startIcon","role"],"sourceRoot":"","sources":["../../src/WalletMultiButton.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}