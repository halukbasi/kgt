{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLocalStorage = void 0;\n\nconst react_1 = require(\"react\");\n\nfunction useLocalStorage(key, defaultState) {\n  const state = (0, react_1.useState)(() => {\n    try {\n      const value = localStorage.getItem(key);\n      if (value) return JSON.parse(value);\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        console.error(error);\n      }\n    }\n\n    return defaultState;\n  });\n  const value = state[0];\n  const isFirstRender = (0, react_1.useRef)(true);\n  (0, react_1.useEffect)(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    try {\n      if (value === null) {\n        localStorage.removeItem(key);\n      } else {\n        localStorage.setItem(key, JSON.stringify(value));\n      }\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        console.error(error);\n      }\n    }\n  }, [value]);\n  return state;\n}\n\nexports.useLocalStorage = useLocalStorage;","map":{"version":3,"mappings":";;;;;;;AACA;;AAEA,SAAgBA,eAAhB,CAAmCC,GAAnC,EAAgDC,YAAhD,EAA+D;EAC3D,MAAMC,KAAK,GAAG,sBAAY,MAAK;IAC3B,IAAI;MACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqBL,GAArB,CAAd;MACA,IAAIG,KAAJ,EAAW,OAAOG,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAP;IACd,CAHD,CAGE,OAAOK,KAAP,EAAc;MACZ,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;QAC/BC,OAAO,CAACF,KAAR,CAAcA,KAAd;MACH;IACJ;;IAED,OAAOP,YAAP;EACH,CAXa,CAAd;EAYA,MAAME,KAAK,GAAGD,KAAK,CAAC,CAAD,CAAnB;EAEA,MAAMS,aAAa,GAAG,oBAAO,IAAP,CAAtB;EACA,uBAAU,MAAK;IACX,IAAIA,aAAa,CAACC,OAAlB,EAA2B;MACvBD,aAAa,CAACC,OAAd,GAAwB,KAAxB;MACA;IACH;;IACD,IAAI;MACA,IAAIT,KAAK,KAAK,IAAd,EAAoB;QAChBC,YAAY,CAACS,UAAb,CAAwBb,GAAxB;MACH,CAFD,MAEO;QACHI,YAAY,CAACU,OAAb,CAAqBd,GAArB,EAA0BM,IAAI,CAACS,SAAL,CAAeZ,KAAf,CAA1B;MACH;IACJ,CAND,CAME,OAAOK,KAAP,EAAc;MACZ,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;QAC/BC,OAAO,CAACF,KAAR,CAAcA,KAAd;MACH;IACJ;EACJ,CAhBD,EAgBG,CAACL,KAAD,CAhBH;EAkBA,OAAOD,KAAP;AACH;;AAnCDc","names":["useLocalStorage","key","defaultState","state","value","localStorage","getItem","JSON","parse","error","window","console","isFirstRender","current","removeItem","setItem","stringify","exports"],"sourceRoot":"","sources":["../../src/useLocalStorage.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}